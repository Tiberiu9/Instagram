<!--<div id="<%#= dom_id post %>">-->
<div class="container-sm border-0 px-0" style="max-width:468px">  <!--w-100-->
  <div class="card-header bg-white py-2 px-2 " style="">   <!--w-100-->
    <div class="d-flex justify-content-between">
      <div>
        <%= link_to post.user, class: "text-decoration-none text-dark" do %>
          <% if post.user.profile_pic.attached? %>
            <%= image_tag post.user.profile_pic, class: "img-thumbnail rounded-circle", style: "width: 40px; height: 40px; padding: 2px; border; border-width: 2px; border-color: red" %>
          <% else %>
            <%= image_tag "profile-pic.png", class: "img-thumbnail rounded-circle", style: "width: 40px; height: 40px; padding: 2px; border; border-width: 2px; border-color: red" %>
          <% end %>
          <span class="fw-bold mx-2" style="font-size: 14px"><%= post.user.username %></span>
        <% end %>
        <small class="text-muted"><%= time_ago_in_words(post.created_at) %></small>
      </div>
      <div>
        <div class="dropdown">
          <a class="text-decoration-none text-dark fs-4" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            ...
          </a>
          <ul class="dropdown-menu">
            <li> <%= button_to 'Delete post', post, method: :delete, class: "dropdown-item" %></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="card-body" style= "padding: 0"> <!--w-100-->
    <div id="post<%= post.id %>_images" class="carousel slide" data-bs-ride="false">   <!-- false = stoped | carusel = autoslide directly | true = slide after 1 click-->
      <div class="carousel-indicators">
        <% post.images.each_with_index do |img, i| %>
          <button type="button" data-bs-target="#post<%= post.id %>_images" data-bs-slide-to="<%= i %>" class="carousel-buttons <%= i==0 ? 'active' : '' %>" aria-current="<%= i==0 ? 'true' : '' %>" aria-label="Slide <%= i+1 %>"></button>
        <% end %>
      </div>
      <div class="carousel-inner">
        <% post.images.each_with_index do |img, i| %>
          <div class="carousel-item <%= i==0 ? 'active' : '' %>" style=";">
            <%= image_tag img, class: "d-block w-100 ", style: "max-height: 30%; object-fit: cover"%> <!--w-100-->
          </div>
        <% end %>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#post<%= post.id %>_images" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" style="width: 26px; height: 26px;" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#post<%= post.id %>_images" data-bs-slide="next">
        <span class="carousel-control-next-icon" style="width: 26px; height: 26px" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <%= render 'posts/post_actions', post: post %>
    <div class="card-text px-2 pt-1 text-dark " style="font-size: 15px">
      <%= link_to post.user, class: "text-decoration-none text-dark" do %>
        <span class="fw-bold"><%= post.user.username %></span>
      <% end %>
      <%= post.caption %>
    </div>
    <%= render 'posts/post_comments', post: post %>
  </div>
  <%= form_with url: comments_path, method: :post, data: {controller: "comments", action: "turbo:submit-end->comments#clear" } do |f| %>
    <div class="card-footer d-flex justify-content-between bg-white px-2 pt-0 pb-3 mb-3 rounded-0" style=" border-top: 0px; border-bottom: 1px solid gray">
      <%= f.hidden_field :post_id, value: post.id %>
      <%= f.text_area :comment_body, class: "w-100 pt-1", id: "comment-body",  placeholder: "Add a comment", data: {controller: "textarea-autogrow"}, :rows => 1 %>
      <%= f.submit "Post", class: "text-primary text-decoration-none fw-bold text-dark border-0", style: "background: none" %>
    </div>
  <% end %>
</div>
<!--</div>-->
<script>
  document.getElementById("post<%= post.id %>_images").addEventListener("dblclick", function(){
    document.getElementById("post<%=post.id%>actions-likeBtn").click();
  })
</script>
