<div class="sticky-top d-flex flex-column justify-content-between px-1 col-auto bg-white min-vh-100 border border-1">
  <div class="mt-4">
    <div class="d-none d-xxl-block">
      <%= link_to root_path do %>
        <div class="d-flex justify-content-center m-2 p-2 rounded" id="navbar-logo" style="width: 230px;">
          <%= image_tag 'logo.png', width: "100rem"%>
        </div>
      <% end %>
    </div>
    <div>
      <%= link_to root_path do %>
        <div class="text-center m-3 d-xxl-none" id="navbar-icon" style="width: 30px">
          <i class="fa-brands fa-instagram fa-xl text-black text-center text-decoration-none"></i>
        </div>
      <% end %>
    </div>
    <!--<hr>-->
    <ul class="nav nav-pills flex-column " id="menu">
      <li class="nav-item">
        <%= link_to root_path, class: "nav-link text-black text-center text-xxl-start py-3 " do %>
          <i class="fa-solid fa-house fa-xl"></i>
          <span class="ms-3 d-none d-xxl-inline">Home</span>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to root_path, class: "nav-link text-black text-center text-xxl-start py-3 " do %>
          <i class="fa-solid fa-magnifying-glass fa-xl"></i>
          <span class="ms-3 d-none d-xxl-inline">Search</span>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to root_path, class: "nav-link text-black text-center text-xxl-start py-3 " do %>
          <i class="fa-regular fa-compass fa-xl"></i>
          <span class="ms-3 d-none d-xxl-inline">Explore</span>
        <% end %>
      </li>
      <li class="nav-item">
        <%= link_to root_path, class: "nav-link text-black text-center text-xxl-start py-3" do %>
          <i class="fa-regular fa-paper-plane fa-xl"></i>
          <!--<i class="bi bi-send fa-xl bi-type-bold"></i>-->
          <span class="ms-3 d-none d-xxl-inline">Messages</span>
        <% end %>
      </li>
      <button class="btn border-0 outline-none text-black nav-link text-center text-xxl-start py-3" id="navbar-notifications-button" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling">
        <i class="fa-regular fa-heart fa-xl"></i><span class="d-none d-xxl-inline" style="margin-left: 18px;">Notifications</span>
      </button>
      <div class="offcanvas offcanvas-start border border-start z-1" style="margin-left: 64px; border-radius: 0px 26px 26px 0px; box-shadow: rgba(74, 87, 75, 0.150) 6px 0px 7px 0px;" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title fw-bold fs-4" id="offcanvasScrollingLabel">Notifications</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <% current_user.follow_requests.each do |fr| %>
            <li>
              <div class="d-flex justify-content-between my-3">
                <div class="d-flex flex-row align-items-center">
                  <div>
                    <%= image_tag "profile-pic.png", class: "img-thumbnail rounded-circle p-0 border", style: "width: 3.1rem" %>
                  </div>
                  <div class="m-auto ms-3">
                    <p class="story-username" style="max-width: 12rem; margin-bottom: 0; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; font: 14px sans-serif; font-weight:bold"><%= link_to fr.follower, class: "text-decoration-none text-dark" do %><%= fr.follower.username %><% end %>
                    </p>
                    <!--<p class="m-0 text-muted" style="font: 12px sans-serif; max-width: 12rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">Instagram Recoooooooooooooooooooommended</p>-->
                  </div>
                </div>
                <div class="d-flex">
                  <div>
                  <%= button_to accept_follow_path(follow_id: fr.id), method: :post, class:"btn btn-primary", style:"text-decoration:none" do%>
                    <small class="fw-bold text-primary text-white">Accept</small>
                  <% end %>
                  </div>
                  <div>
                  <%= button_to decline_follow_path(follow_id: fr.id), method: :delete, class:"btn btn-danger ms-2", style:"text-decoration:none" do%>
                    <small class="fw-bold text-primary text-white">Decline</small>
                  <% end %>
                  </div>
                </div>
              </div>
            </li>
          <% end %>
        </div>
      </div>
      <li class="nav-item">
        <a type="button" class="nav-link text-black text-center text-xxl-start py-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <i class="fa-regular fa-square-plus fa-xl"></i>
          <span class="d-none d-xxl-inline" style="margin-left: 18px">Create</span>
        </a>
      </li>
      <li class="nav-item">
        <% if current_user && current_user.profile_pic.attached? %>
          <%= link_to user_path(current_user), class: "nav-link text-black text-center text-xxl-start py-3" do %>
            <%= image_tag current_user.profile_pic, class: "img-thumbnail rounded-circle p-0", style: "width: 1.7rem; height: 1.7rem" %>
            <span class="d-none d-xxl-inline" style="margin-left: 14px">Profile</span>
          <% end %>
        <% else %>
          <%= link_to user_path(current_user), class: "nav-link text-black text-center text-xxl-start py-3" do %>
            <%= image_tag "profile-pic.png", class: "img-thumbnail rounded-circle p-0", style: "width: 1.7rem" %>
            <span class="d-none d-xxl-inline" style="margin-left: 14px" >Profile</span>
          <% end %>
        <% end %>
      </li>
    </ul>
  </div>
  <div>
    <div class="dropdown open px-1 py-2 mb-3 rounded text-center text-xxl-start " id="navbar-more-button">
      <a class="btn border-0 outline-none text-black text-center" type="button" id="triggerId" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fa-solid fa-bars fa-xl"></i><span class="d-none d-xxl-inline" style="margin-left: 21px">More</span>
      </a>
      <div class="dropdown-menu shadow-lg w-100 rounded-4 position-absolute z-2" aria-labelledby="triggerId">
        <%= link_to "Settings", edit_user_registration_path, class: "dropdown-item" %>
        <%= button_to "Log out", destroy_user_session_path, class: "dropdown-item", method: :delete%>
      </div>
    </div>
  </div>
</div>
